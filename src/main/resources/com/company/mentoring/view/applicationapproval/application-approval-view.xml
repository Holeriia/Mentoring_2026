<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<view xmlns="http://jmix.io/schema/flowui/view"
      title="msg://applicationApprovalView.title">

    <data>
        <instance id="applicationDc"
                  class="com.company.mentoring.entity.Application"
                  fetchPlan="_base"/>

        <collection id="applicationClarificationDc"
                    class="com.company.mentoring.entity.ApplicationClarification">
            <fetchPlan>
                <property name="author" fetchPlan="_instance_name"/>
                <property name="message"/>
                <property name="createdAt"/>
            </fetchPlan>
            <loader id="applicationClarificationDl"/>
        </collection>
    </data>

    <layout spacing="true">

        <h3 text="Application"/>

        <formLayout>
            <responsiveSteps>
                <responsiveStep minWidth="0" columns="1"/>
            </responsiveSteps>
            <textField id="titleField"
                       label="Название"
                       dataContainer="applicationDc"
                       property="title"/>

            <textArea id="descriptionField"
                      label="Описание"
                      dataContainer="applicationDc"
                      property="description"
                      height="8em"/>

            <h4 text="Комментарии"/>
<!--            <hbox id="clarificationsButtonsPanel" classNames="buttons-panel">-->
<!--                <button action="applicationClarificationDataGrid.createAction"/>-->
<!--                <button action="applicationClarificationDataGrid.editAction"/>-->
<!--                <button action="applicationClarificationDataGrid.removeAction"/>-->
<!--            </hbox>-->

            <dataGrid id="applicationClarificationDataGrid"
                      dataContainer="applicationClarificationDc"
                      width="100%" minHeight="20em">
<!--                <actions>-->
<!--                    <action id="createAction" type="list_create">-->
<!--                        <properties>-->
<!--                            <property name="openMode" value="DIALOG"/>-->
<!--                        </properties>-->
<!--                    </action>-->
<!--                    <action id="editAction" type="list_edit">-->
<!--                        <properties>-->
<!--                            <property name="openMode" value="DIALOG"/>-->
<!--                        </properties>-->
<!--                    </action>-->
<!--                    <action id="removeAction" type="list_remove"/>-->
<!--                </actions>-->
                <columns>
                    <column property="author"/>
                    <column property="message"/>
                    <column property="createdAt"/>
                </columns>
            </dataGrid>

            <textArea
                    id="commentField"
                    label="Комментарий"
                    height="6em"/>
        </formLayout>

        <hbox justifyContent="END" spacing="true">
            <button
                    id="approveBtn"
                    text="Approve"
                    themeNames="primary"/>

            <button
                    id="rejectBtn"
                    text="Reject"
                    themeNames="error"/>

            <button
                    id="commentBtn"
                    text="Comment"
                    icon="vaadin:comment"/>
        </hbox>

    </layout>
</view>