<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<view xmlns="http://jmix.io/schema/flowui/view"
      title="msg://assignmentCreatingView.title">

    <data>
        <instance id="assignmentDc"
                  class="com.company.mentoring.entity.Assignment">
            <fetchPlan extends="_base">
                <property name="executorsWorkspaceTeam">
                    <property name="members">
                        <property name="participant">
                            <property name="user" fetchPlan="_instance_name"/>
                        </property>
                    </property>
                </property>
                <property name="supervisorsWorkspaceTeam">
                    <property name="members">
                        <property name="participant">
                            <property name="user" fetchPlan="_instance_name"/>
                        </property>
                    </property>
                </property>
            </fetchPlan>
            <loader id="assignmentDl"/>
        </instance>
    </data>

    <layout spacing="true">

<!--        <h3 text="Assignment"/>-->

        <formLayout id="form" dataContainer="assignmentDc">
            <responsiveSteps>
                <responsiveStep minWidth="0" columns="1"/>
            </responsiveSteps>

            <textField
                    id="titleField"
                    label="Название"
                    property="name"/>

            <textArea
                    id="descriptionField"
                    label="Описание"
                    property="description"
                    height="8em"/>

            <entityPicker
                    id="executorsTeamField"
                    label="Команда исполнителей"
                    property="executorsWorkspaceTeam"
                    readOnly="true"/>

            <entityPicker
                    id="supervisorsTeamField"
                    label="Команда руководителей"
                    property="supervisorsWorkspaceTeam"
                    readOnly="true"/>

            <comboBox
                    id="statusField"
                    label="Статус"
                    property="status"
                    readOnly="true"/>
        </formLayout>

        <hbox justifyContent="END" spacing="true">
            <button
                    id="approveBtn"
                    text="Approve"
                    themeNames="primary"/>

            <button
                    id="cancelBtn"
                    text="Cancel"/>
        </hbox>

    </layout>
</view>
